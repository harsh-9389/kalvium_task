<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PDF Co-Viewer</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.10.377/pdf.min.js"></script>
</head>
<body>
<div id="container">
  <input type="file" id="file-input" accept="application/pdf">
  <canvas id="pdf-canvas"></canvas>
  <div id="controls">
    <button id="prev" disabled>Previous</button>
    <span id="page-number"></span>
    <button id="next" disabled>Next</button>
  </div>
</div>
<script src="script.js"></script>
<script>
  // Show the file input only if the user is an admin
  window.addEventListener('load', () => {
    // Wait until role is assigned by WebSocket
    const socket = new WebSocket('ws://localhost:3000');
    socket.onmessage = (event) => {
      const data = JSON.parse(event.data);
      if (data.role === 'admin') {
        document.getElementById('file-input').style.display = 'block';
      }
    };
  });
</script>
</body>
</html>
